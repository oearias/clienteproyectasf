<div>

    <div id="stepper1" class="bs-stepper">
        <div class="bs-stepper-header">
            <div class="step" data-target="#test-l-1">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">1</span>
                    <span class="bs-stepper-label"></span> 
                </button>
            </div>
            <div class="line"></div>
            <!-- <div class="step" data-target="#test-l-2">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">2</span>
                    <span class="bs-stepper-label"></span>
                </button>
            </div>
            <div class="line"></div> -->
            <div class="step" data-target="#test-l-2">
                <button class="step-trigger">
                    <span class="bs-stepper-circle">2</span>
                    <span class="bs-stepper-label"></span>
                </button>
            </div>

        </div>
        <div class="bs-stepper-content">

            <form [formGroup]="solicitudForm" (ngSubmit)="onSubmit()">

                <div id="test-l-1" class="content">

                    <div class="card card-default rounded-0 mb-0">
                        <div class="card-header bg-primary">

                            <h5 class="card-title"><b>
                                    Búsqueda del solicitante / cliente
                                </b></h5>

                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body" style="display: block;">

                            <div class="row">

                                <div class="col-sm-4">

                                    <div class="form-group">

                                        <label for="">Tipo de solicitud</label>

                                        <ng-select #selectTipoSolicitud 
                                            (change)="onChangeTipoSolicitud($event)"
                                            [items]="arrayTipoSolicitud" 
                                            formControlName="tipo_solicitud"
                                            bindValue="id" bindLabel="nombre" placeholder="Seleccione tipo de solicitud">
                                        </ng-select>

                                    </div>

                                </div>

                                <div class="col-sm-12 col-md-8">
                                    <div class="form-group">

                                        <label for="">Cliente / Propietario</label>

                                        <ng-select 
                                            (change)="onChangeCliente($event)" 
                                            (search)="buscarElementos($event)"
                                            class="text-uppercase" [items]="clientesArray"
                                            formControlName="id" bindLabel="fullname" [clearable]="false"
                                            placeholder="Seleccione un cliente/propietario" bindValue="id">
                                        </ng-select>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>

                    <div formGroupName="aval">
                        <div *ngIf="formularioMicroNegocioIsRequired" class="card card-default rounded-0 mb-0">
                            <div class="card-header rounded-0 bg-primary">
    
                                <h5 class="card-title"><b>
                                        Datos del aval
                                    </b></h5>
    
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>
    
                            <div class="card-body" style="display: block;">
    
                                <div class="form-row">
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label>Nombre</label>
    
                                            <input type="text" formControlName="nombre"
                                                class="form-control text-uppercase">

                                            <div *ngIf="(submitted && aval_nombre.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_nombre.errors.required">*El nombre es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>
    
                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Apellido paterno</label>
                                            <input type="text" formControlName="apellido_paterno"
                                                class="form-control text-uppercase">

                                            <div *ngIf="(submitted && aval_apellido_paterno.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_apellido_paterno.errors.required">*El apellido paterno es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>
    
                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Apellido materno</label>
                                            <input type="text" formControlName="apellido_materno"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>
    
                                </div>
    
                                <div class="form-row">
    
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label>Fecha de nacimiento</label>
                                            <input type="date" formControlName="fecha_nacimiento" class="form-control">

                                            <div *ngIf="(submitted && aval_fecha_nacimiento.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_fecha_nacimiento.errors.required">*La fecha de nacimiento es obligatoria</span>
                                            </div>
                                        </div>
    
                                    </div>
    
                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Teléfono</label>
    
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                        <i class="fas fa-phone"></i>
                                                    </span>
                                                </div>
                                                <input type="number" formControlName="telefono" class="form-control"
                                                    placeholder="Teléfono" aria-label="Username"
                                                    aria-describedby="basic-addon1">
                                            </div>

                                            <div *ngIf="(submitted && aval_telefono.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_telefono.errors.required">*El teléfono es obligatorio</span>
                                            </div>
                                        </div>
                                    </div>
    
                                </div>

                                <div class="form-row">
                                    
                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label for="calleInput">Calle</label>
                                            <input id="calleInput" type="text" formControlName="calle"
                                                class="form-control text-uppercase">
                                                <div *ngIf="(submitted && aval_calle.invalid )">
                                                    <span class="error invalid-feedback" *ngIf="aval_calle.errors.required">*La calle es obligatoria</span>
                                                </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-group">
                                            <label>Núm. ext.</label>
                                            <input type="text" formControlName="num_ext" class="form-control">
                                            <div *ngIf="(submitted && aval_num_ext.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_num_ext.errors.required">*El número exterior es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <div class="form-group">
                                            <label for="coloniaInput">Colonia</label>
                                            <ng-select [items]="colonias" formControlName="colonia_id"
                                                bindLabel="nombre" bindValue="id" [clearable]="false"
                                                class="text-uppercase"
                                                placeholder="Seleccione una colonia...">
                                            </ng-select>
                                            <div *ngIf="(submitted && aval_colonia_id.invalid )">
                                                <span class="error invalid-feedback" *ngIf="aval_colonia_id.errors.required">*La colonia es obligatoria</span>
                                            </div>
                                        </div>
                                    </div>
    
                                </div>
    
                            </div>
    
                        </div>
                    </div>

                    <div formGroupName="negocio">
                        <div *ngIf="formularioMicroNegocioIsRequired" class="card card-default rounded-0 mb-0">
                            <div class="card-header rounded-0 bg-primary">
    
                                <h5 class="card-title"><b>
                                        Datos del negocio
                                    </b></h5>
    
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>
    
                            <div class="card-body" style="display: block;">
    
                                <div class="form-row">
                                    <div class="col-sm-12 col-md-6">
                                        <div class="form-group">
                                            <label>Nombre</label>
    
                                            <input type="text" formControlName="nombre"
                                                class="form-control text-uppercase">

                                            <div *ngIf="(submitted && negocio_nombre.invalid )">
                                                <span class="error invalid-feedback" *ngIf="negocio_nombre.errors.required">*El nombre es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>

                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-group">
                                            <label>Giro</label>
    
                                            <input type="text" formControlName="giro"
                                                class="form-control text-uppercase">

                                            <div *ngIf="(submitted && negocio_giro.invalid )">
                                                <span class="error invalid-feedback" *ngIf="negocio_giro.errors.required">*El giro es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <div class="form-group">
                                            <label>Teléfono</label>
    
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                        <i class="fas fa-phone"></i>
                                                    </span>
                                                </div>
                                                <input type="number" formControlName="telefono" class="form-control"
                                                    placeholder="Teléfono" aria-label="Username"
                                                    aria-describedby="basic-addon1">
                                            </div>

                                            <div *ngIf="(submitted && negocio_telefono.invalid )">
                                                <span class="error invalid-feedback" *ngIf="negocio_telefono.errors.required">*El teléfono es obligatorio</span>
                                            </div>
                                        </div>
                                    </div>
    
                                </div>

                                <div class="form-row">
                                    
                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label for="calleInput">Calle</label>
                                            <input id="calleInput" type="text" formControlName="calle"
                                                class="form-control text-uppercase">
                                                <div *ngIf="(submitted && negocio_calle.invalid )">
                                                    <span class="error invalid-feedback" *ngIf="negocio_calle.errors.required">*La calle es obligatoria</span>
                                                </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-3">
                                        <div class="form-group">
                                            <label>Núm. ext.</label>
                                            <input type="text" formControlName="num_ext" class="form-control">

                                            <div *ngIf="(submitted && negocio_num_ext.invalid )">
                                                <span class="error invalid-feedback" *ngIf="negocio_num_ext.errors.required">*El número exterior es obligatorio</span>
                                            </div>
                                        </div>
    
                                    </div>

                                    <div class="col-sm-6 col-md-3">
                                        <div class="form-group">
                                            <label for="coloniaInput">Colonia</label>
                                            <ng-select [items]="colonias" formControlName="colonia_id"
                                                bindLabel="nombre" bindValue="id" [clearable]="false"
                                                class="text-uppercase"
                                                placeholder="Seleccione una colonia...">
                                            </ng-select>
                                            <div *ngIf="(submitted && negocio_colonia_id.invalid )">
                                                <span class="error invalid-feedback" *ngIf="negocio_colonia_id.errors.required">*La colonia es obligatoria</span>
                                            </div>
                                        </div>
                                    </div>
    
                                </div>
    
                                <div class="form-row">
                                    
                                    <div class="col-sm-6 col-md-3">
                                        <div class="form-group">
                                            <label for="calleInput">Hora de pago</label>
                                            <input id="calleInput" type="time" formControlName="hora_pago"
                                                class="form-control text-uppercase">
                                                <div *ngIf="(submitted && negocio_hora_pago.invalid )">
                                                    <span class="error invalid-feedback" *ngIf="negocio_hora_pago.errors.required">*La hora de pago es obligatoria</span>
                                                </div>
                                        </div>
                                    </div>

                                    
    
                                </div>
    
                            </div>
    
                        </div>
                    </div>

                    <div class="card card-default rounded-0 mb-0">

                        <div class="card-header rounded-0 bg-primary">

                            <h5 class="card-title"><b>
                                    Datos del préstamo
                                </b></h5>

                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body">

                            <div *ngIf="editingSolicitud" class="form-row">

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>Núm de la solicitud</label>
                                        <input readonly="true" formControlName="id" class="form-control">
                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>Observaciones</label>
                                        <input formControlName="observaciones" class="form-control">
                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>Estatus</label>
                                        <div>
                                            <span class="badge badge-primary labelStatus">
                                                {{editingSolicitud?.estatus}}
                                            </span>

                                        </div>
                                    </div>
                                </div>

                            </div>

                            <hr *ngIf="editingSolicitud">

                            <div class="form-row">

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>
                                            Fecha de la solicitud
                                        </label>
                                        <input formControlName="cliente_id" type="hidden">
                                        <input type="date" formControlName="fecha_solicitud" class="form-control">
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <label>
                                            Sucursal
                                        </label>
                                        <ng-select formControlName="sucursal_id" [items]="sucursales" bindLabel="nombre"
                                            bindValue="id" (change)="onChangeSucursal($event)"
                                            placeholder="Seleccione sucursal">
                                        </ng-select>

                                        <div *ngIf="(submitted && sucursal_id.invalid )">
                                            <span class="error invalid-feedback" *ngIf="sucursal_id.errors.required">*La
                                                sucursal es obligatoria</span>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>
                                            Zona</label>
                                        <ng-select #selectZona formControlName="zona_id" [items]="zonas"
                                            bindLabel="nombre" bindValue="id" (change)="onChangeZona($event)"
                                            placeholder="Seleccione zona"></ng-select>

                                            <div *ngIf="(submitted && zona_id.invalid )">
                                                <span class="error invalid-feedback" *ngIf="zona_id.errors.required">*La zona es obligatoria</span>
                                            </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>
                                            Agencia
                                        </label>
                                        <ng-select #selectAgencia [items]="agencias" bindLabel="nombre" bindValue="id"
                                            formControlName="agencia_id" placeholder="Seleccione agencia"></ng-select>

                                        <div *ngIf="(submitted && agencia_id.invalid )">
                                            <span class="error invalid-feedback" *ngIf="agencia_id.errors.required">*La agencia es obligatoria</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6 col-md-4">
                                    <div class="form-group">
                                        <label>
                                            Monto solicitado</label>
                                        <ng-select formControlName="tarifa_id" [items]="tarifas" 
                                            bindLabel="nombre"
                                            bindValue="id"
                                            placeholder="Seleccione monto">
                                        </ng-select>
                                        <div *ngIf="(submitted && tarifa_id.invalid )">
                                            <span class="error invalid-feedback" *ngIf="tarifa_id.errors.required">*El monto es obligatorio</span>
                                        </div>
                                    </div>

                                </div>

                            </div>


                        </div>

                    </div>

                    <div formGroupName="cliente">


                        <div class="card card-default rounded-0 mb-0">

                            <div class="card-header rounded-0 bg-primary">
                                <h3 class="card-title"><b>Datos personales del solicitante</b></h3>
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="card-body" style="display: block;">

                                <div class="form-row">
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label>Nombre</label>

                                            <input type="text" formControlName="nombre"
                                                class="form-control text-uppercase">
                                            
                                            <div *ngIf="(submitted && nombre.invalid )">
                                                <span class="error invalid-feedback" *ngIf="nombre.errors.required">*El nombre es obligatorio</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Apellido paterno</label>
                                            <input type="text" formControlName="apellido_paterno"
                                                class="form-control text-uppercase">

                                            <div *ngIf="(submitted && apellido_paterno.invalid )">
                                                <span class="error invalid-feedback" *ngIf="apellido_paterno.errors.required">*El apellido paterno es obligatorio</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Apellido materno</label>
                                            <input type="text" formControlName="apellido_materno"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label>Fecha de nacimiento</label>
                                            <input type="date" formControlName="fecha_nacimiento" class="form-control">

                                            <div *ngIf="(submitted && fecha_nacimiento.invalid )">
                                                <span class="error invalid-feedback" *ngIf="fecha_nacimiento.errors.required">*La fecha de nacimiento es obligatoria</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Sexo</label>
                                            <ng-select [items]="arrSexo" bindLabel="nombre" bindValue="nombre"
                                                placeholder="Seleccione sexo" formControlName="sexo">
                                            </ng-select>

                                            <div *ngIf="(submitted && sexo.invalid )">
                                                <span class="error invalid-feedback" *ngIf="sexo.errors.required">*El sexo es obligatorio</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Teléfono</label>
                                            <!-- <input type="number" formControlName="telefono" class="form-control"> -->

                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                        <i class="fas fa-phone"></i>
                                                    </span>
                                                </div>
                                                <input type="number" formControlName="telefono" class="form-control"
                                                    placeholder="Teléfono" aria-label="Username"
                                                    aria-describedby="basic-addon1">

                                                
                                            </div>

                                            <div *ngIf="(submitted && telefono.invalid )">
                                                <span class="error invalid-feedback" *ngIf="telefono.errors.required">*El teléfono es obligatorio</span>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">
                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label>RFC <span class="opcional">(Opcional)</span></label>
                                            <input type="text" formControlName="rfc"
                                                class="form-control text-uppercase">
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>CURP<span class="opcional">(Opcional)</span></label>
                                            <input type="text" formControlName="curp"
                                                class="form-control text-uppercase">
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Email <span class="opcional">(Opcional)</span></label>
                                            <input type="text" formControlName="email"
                                                class="form-control text-lowercase">
                                        </div>

                                    </div>

                                </div>



                            </div>

                        </div>

                        <div class="card card-default rounded-0 mb-0">

                            <div class="card-header rounded-0 bg-primary">
                                <h3 class="card-title"><b>Datos domiciliarios del solicitante</b></h3>
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="card-body" style="display: block;">

                                <div class="form-row">

                                    <div class="col-sm-6 col-md-8">
                                        <div class="form-group">
                                            <label for="calleInput">Calle</label>
                                            <input id="calleInput" type="text" formControlName="calle"
                                                class="form-control text-uppercase">
                                                <div *ngIf="(submitted && calle.invalid )">
                                                    <span class="error invalid-feedback" *ngIf="calle.errors.required">*La calle es obligatoria</span>
                                                </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label for="coloniaInput">Colonia</label>
                                            <ng-select [items]="colonias" formControlName="colonia_id"
                                                bindLabel="nombre" bindValue="id" [clearable]="false"
                                                class="text-uppercase" (change)="onChangeColonia($event,1)"
                                                placeholder="Seleccione una colonia...">
                                            </ng-select>
                                            <div *ngIf="(submitted && colonia_id.invalid )">
                                                <span class="error invalid-feedback" *ngIf="colonia_id.errors.required">*La colonia es obligatoria</span>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">

                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">
                                            <label for="numExtInput">Núm. ext.</label>
                                            <input id="numExtInput" formControlName="num_ext" type="text"
                                                class="form-control text-uppercase">
                                                <div *ngIf="(submitted && num_ext.invalid )">
                                                    <span class="error invalid-feedback" *ngIf="num_ext.errors.required">*El número exterior es obligatorio</span>
                                                </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">
                                            <label for="numIntInput">Núm. int. <span
                                                    class="opcional">(Opcional)</span></label>
                                            <input id="numIntInput" formControlName="num_int" type="text"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">
                                            <label>CP</label>
                                            <input disabled="true" #cp type="text" class="form-control">
                                        </div>

                                    </div>

                                </div>

                                <div class="form-row">

                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label for="cruzamientosInput">Cruzamientos <span
                                                    class="opcional">(Opcional)</span></label>
                                            <input id="cruzamientosInput" formControlName="cruzamientos" type="text"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label for="referenciaInput">Referencia <span
                                                    class="opcional">(Opcional)</span> </label>
                                            <input id="referenciaInput" formControlName="referencia" type="text"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Municipio</label>
                                            <input type="text" formControlName="municipio"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label for="localidadInput">Localidad</label>
                                            <input id="localidadInput" formControlName="localidad" type="text"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                    <div class="col-sm-12 col-md-4">
                                        <div class="form-group">
                                            <label for="searchInput">Estado</label>
                                            <ng-select class="text-uppercase" formControlName="estado" [items]="estados"
                                                bindLabel="nombre" bindValue="nombre"
                                                placeholder="Seleccione un estado">
                                            </ng-select>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>

                    <div class="card card-default rounded-0 mb-0">

                        <div class="card-header rounded-0 bg-primary">
                            <h3 class="card-title"><b>Datos de la vivienda</b></h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body" style="display: block;">

                            <div class="form-row">

                                <div class="col-sm col-md">
                                    <div class="form-group">
                                        <label>La vivienda es</label>
                                        <div class="form-check form-check-inline ml-2">
                                            <input class="form-check-input" type="radio" name="vivienda"
                                                formControlName="vivienda" id="exampleRadios1" value="VIVIENDA PROPIA">
                                            <label class="form-check-label" for="exampleRadios1">
                                                Propia
                                            </label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" name="vivienda"
                                                formControlName="vivienda" id="exampleRadios2" value="VIVIENDA RENTADA">
                                            <label class="form-check-label" for="exampleRadios2">
                                                Rentada
                                            </label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input #viviendaOtra class="form-check-input" type="radio" name="vivienda"
                                                formControlName="vivienda" id="exampleRadios3" value="OTRO">
                                            <label class="form-check-label" for="exampleRadios3">
                                                Otra
                                            </label>
                                        </div>
                                        <input formControlName="vivienda_otra"
                                            class="form-control col-md text-uppercase" type="text" name="exampleRadios"
                                            id="exampleRadios4">

                                    </div>
                                </div>
                                <div class="col-md-6 form-row">
                                    <div class="col-sm-6 col-md-5 d-flex align-items-center">
                                        <div>
                                            <span><b>Tiempo viviendo en la dirección actual </b>
                                                <span class="opcional">(Opcional)</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="col-sm-3 col-md">
                                        <div class="form-group text-center">
                                            <label for="aniosInput">Años</label>
                                            <input formControlName="tiempo_vivienda_años" id="aniosInput" type="number"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                    <div class="col-sm-3 col-md">
                                        <div class="form-group text-center">
                                            <label for="mesesInput">Meses</label>
                                            <input formControlName="tiempo_vivienda_meses" id="mesesInput" type="number"
                                                class="form-control text-uppercase">
                                        </div>
                                    </div>

                                </div>

                            </div>

                            <div class="mt-3 d-flex justify-content-end">
                                <!-- <button (click)="previous()" class="btn btn-primary">
                                    <i class="fas fa-arrow-alt-circle-left"></i>
                                    Anterior</button> -->
                                <button (click)="next()" class="btn btn-primary ml-3">
                                    Siguiente
                                    <i class="fas fa-arrow-alt-circle-right"></i>
                                </button>
                            </div>

                        </div>

                    </div>

                </div>

                <!-- <div id="test-l-2" class="content">

                    <div class="card card-default rounded-0 mb-0">
                        <div class="card-header bg-primary">

                            <h5 class="card-title"><b>
                                    Dependientes económicos
                                </b></h5>

                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body">

                            <div class="form-row">

                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <label>Número de dependientes económicos <span
                                                class="opcional">(Opcional)</span></label>
                                        <input formControlName="num_dependientes" type="text"
                                            class="form-control col-md-3">
                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="card card-default rounded-0 mb-0">

                        <div class="card-header rounded-0 bg-primary">
                            <h3 class="card-title"><b>Identificación</b></h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body" style="display: block;">

                            <div class="form-row">

                                <div class="col-sm-12 col-md-3">
                                    <div class="form-group">
                                        <label>Tipo de identificación</label>
                                        <ng-select [items]="tipoIdentificaciones"
                                            formControlName="tipo_identificacion_id" bindLabel="nombre" bindValue="id"
                                            placeholder="Seleccione tipo de identificación"></ng-select>

                                        <div
                                            *ngIf="(submitted && tipo_identificacion_id.invalid) || ( tipo_identificacion_id.invalid && (tipo_identificacion_id.dirty || tipo_identificacion_id.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="tipo_identificacion_id.errors.required">*El tipo de
                                                identificación es
                                                obligatorio</span>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-12 col-md-4">
                                    <div class="form-group">
                                        <label>Número de identificación</label>
                                        <input formControlName="num_identificacion" type="text" class="form-control">

                                        <div
                                            *ngIf="(submitted && num_identificacion.invalid) || ( num_identificacion.invalid && (num_identificacion.dirty || num_identificacion.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="num_identificacion.errors.required">*El número de identificación
                                                es
                                                obligatorio</span>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="card card-default rounded-0 mb-0">



                        <div class="card card-default rounded-0 mb-0">

                            <div class="card-header rounded-0 bg-primary">

                                <h5 class="card-title">
                                    <b>
                                        Datos laborales
                                    </b>
                                </h5>

                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="card-body" style="display: block;">

                                <div class="form-row">

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Tipo de empleo</label>
                                            <ng-select formControlName="tipo_empleo_id" [items]="tipoEmpleos"
                                                bindLabel="nombre" bindValue="id"
                                                placeholder="Seleccione tipo de empleo">
                                            </ng-select>

                                            <div
                                                *ngIf="(submitted && tipo_empleo_id.invalid) || ( tipo_empleo_id.invalid && (tipo_empleo_id.dirty || tipo_empleo_id.touched))">
                                                <span class="error invalid-feedback"
                                                    *ngIf="tipo_empleo_id.errors.required">*El tipo de empleo es
                                                    obligatorio</span>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Ocupación</label>
                                            <ng-select formControlName="ocupacion_id" [items]="ocupaciones"
                                                bindLabel="nombre" bindValue="id"
                                                placeholder="Seleccione una ocupación"></ng-select>

                                            <div
                                                *ngIf="(submitted && ocupacion_id.invalid) || ( ocupacion_id.invalid && (ocupacion_id.dirty || ocupacion_id.touched))">
                                                <span class="error invalid-feedback"
                                                    *ngIf="ocupacion_id.errors.required">*La ocupación es
                                                    obligatoria</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-sm-6 col-md-4">
                                        <div class="form-group">
                                            <label>Observaciones del negocio</label><span class="opcional"> (Opcional)</span>
                                            <input formControlName="observaciones_negocio" type="text" class="form-control">

                                        </div>
                                    </div>

                                </div>

                                <div class="form-row">
                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label>Periodicidad de ingresos</label>
                                            <ng-select formControlName="periodicidad_ingresos" [items]="arrPeriodicidad"
                                                bindLabel="nombre" bindValue="nombre"
                                                placeholder="Seleccione una periodicidad"></ng-select>
                                        </div>
                                    </div>

                                    <div class="col-md-6 form-row">
                                        <div class="col-sm-6 col-md-5 d-flex align-items-center">
                                            <div>
                                                <span><b>Antigüedad en el empleo </b>
                                                    <span class="opcional">(Opcional)</span>
                                                </span>
                                            </div>
                                        </div>

                                        <div class="col-sm-3 col-md">
                                            <div class="form-group text-center">
                                                <label for="aniosInput">Años</label>
                                                <input formControlName="tiempo_empleo_años" id="aniosInput"
                                                    type="number" class="form-control text-uppercase">
                                            </div>
                                        </div>

                                        <div class="col-sm-3 col-md">
                                            <div class="form-group text-center">
                                                <label for="mesesInput">Meses</label>
                                                <input formControlName="tiempo_empleo_meses" id="mesesInput"
                                                    type="number" class="form-control text-uppercase">
                                            </div>
                                        </div>

                                    </div>

                                </div>

                                <div class="form-row">
                                    <div class="col-sm-12 col-md-2">
                                        <div class="form-group">
                                            <label>Ingresos mensuales</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text">$</span>
                                                </div>

                                                <input formControlName="ingreso_mensual" type="number"
                                                    class="form-control text-right">



                                            </div>

                                            <div
                                                *ngIf="(submitted && ingreso_mensual.invalid) || ( ingreso_mensual.invalid && (ingreso_mensual.dirty || ingreso_mensual.touched))">
                                                <span class="error invalid-feedback"
                                                    *ngIf="ingreso_mensual.errors.required">*El ingreso mensual es
                                                    obligatorio</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-3 d-flex justify-content-end">
                                    <button (click)="previous()" class="btn btn-primary">
                                        <i class="fas fa-arrow-alt-circle-left"></i>
                                        Anterior</button>
                                    <button (click)="next()" class="btn btn-primary ml-3">
                                        Siguiente
                                        <i class="fas fa-arrow-alt-circle-right"></i>
                                    </button>
                                </div>
                            </div>

                        </div>

                    </div>
                </div> -->

                <div id="test-l-2" class="content">

                    <div class="card card-default rounded-0 mb-0">

                        <div class="card-header bg-primary">
                            <h3 class="card-title"><b>Validación de datos</b></h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body" style="display: block;">

                            <div class="form-row">

                                <div class="col-sm-12 col-md">
                                    <div class="form-group">
                                        <label>Condiciones de la vivienda <span
                                                class="opcional">(Opcional)</span></label>
                                    </div>

                                </div>

                            </div>

                            <div class="form-row">
                                <div class="col-sm-6 col-md">

                                    <div class="form-check">
                                        <input (change)="onChangeCheckServicesAll($event)" class="form-check-input"
                                            type="checkbox" value="" id="checkAll">
                                        <label class="form-check-label" for="checkAll">
                                            <span class="opcional">Seleccionar todo</span>
                                        </label>
                                    </div>

                                </div>
                            </div>

                            <div formGroupName="servicios" class="form-row">

                                <div class="col-sm-6 col-md">

                                    <div class="form-check">
                                        <input formControlName="luz" class="form-check-input" type="checkbox" value=""
                                            id="checkLuz">
                                        <label class="form-check-label" for="checkLuz">
                                            Luz
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="agua_potable" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckAgua">
                                        <label class="form-check-label" for="flexCheckAgua">
                                            Agua potable
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="auto_propio" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckAuto">
                                        <label class="form-check-label" for="flexCheckAuto">
                                            Auto propio
                                        </label>
                                    </div>

                                </div>

                                <div class="col-sm-6 col-md">

                                    <div class="form-check">
                                        <input formControlName="telefono_fijo" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckTelefonoFijo">
                                        <label class="form-check-label" for="flexCheckTelefonoFijo">
                                            Teléfono fijo
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="telefono_movil" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckTelefonoMovil">
                                        <label class="form-check-label" for="flexCheckTelefonoMovil">
                                            Teléfono móvil
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="refrigerador" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckRefrigerador">
                                        <label class="form-check-label" for="flexCheckRefrigerador">
                                            Refrigerador
                                        </label>
                                    </div>

                                </div>

                                <div class="col-sm-6 col-md">

                                    <div class="form-check">
                                        <input formControlName="estufa" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckEstufa">
                                        <label class="form-check-label" for="flexCheckEstufa">
                                            Estufa
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="internet" class="form-check-input" type="checkbox"
                                            value="" id="flexCheckDefault">
                                        <label class="form-check-label" for="flexCheckDefault">
                                            Internet
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="gas" class="form-check-input" type="checkbox" value=""
                                            id="flexCheckGas">
                                        <label class="form-check-label" for="flexCheckGas">
                                            Gas
                                        </label>
                                    </div>

                                </div>

                                <div class="col-sm-6 col-md">

                                    <div class="form-check">
                                        <input formControlName="tv" class="form-check-input" type="checkbox" value=""
                                            id="flexCheckTv">
                                        <label class="form-check-label" for="flexCheckTv">
                                            Tv de paga
                                        </label>
                                    </div>

                                    <div class="form-check">
                                        <input formControlName="alumbrado_publico" class="form-check-input"
                                            type="checkbox" value="" id="flexCheckAlumbrado">
                                        <label class="form-check-label" for="flexCheckAlumbrado">
                                            Alumbrado público
                                        </label>
                                    </div>

                                </div>

                            </div>
                            <hr>

                            <div class="form-row">

                                <div class="col-sm-12 col-md ">

                                    <div class="form-group">
                                        <label>Personas viviendo <br> en el domicilio <span
                                                class="opcional">(Opcional)</span></label>
                                        <input formControlName="personas_viviendo" type="text"
                                            class="form-control col-md">
                                    </div>

                                </div>

                                <div class="col-sm-12 col-md ">

                                    <div class="form-group">
                                        <label>&nbsp;<br>Color de casa <span class="opcional">(Opcional)</span></label>
                                        <input formControlName="color_casa" type="text"
                                            class="form-control col-md text-uppercase">

                                        <div
                                            *ngIf="(submitted && color_casa.invalid) || ( color_casa.invalid && (color_casa.dirty || color_casa.touched))">
                                            <span class="error invalid-feedback" *ngIf="color_casa.errors.required">*El
                                                color de casa es obligatorio</span>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-12 col-md ">

                                    <div class="form-group">
                                        <label>&nbsp;<br>Color del portón <span
                                                class="opcional">(Opcional)</span></label>
                                        <input formControlName="color_porton" type="text"
                                            class="form-control col-md text-uppercase">
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md ">

                                    <div class="form-group">
                                        <label>&nbsp;<br>Niveles de la casa <span
                                                class="opcional">(Opcional)</span></label>
                                        <input formControlName="niveles_casa" type="number" class="form-control col-md">
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="card card-default rounded-0 mb-0">

                        <div class="card-header rounded-0 bg-primary">
                            <h3 class="card-title">
                                <b>Referencias Personales</b>
                            </h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>

                        <div class="card-body" style="display: block;">

                            <div class="form-group">

                                <div class="col-sm-12 col-md d-flex align-items-center">
                                    <label>Referencia 1 <span class="opcional">(Opcional)</span></label>
                                </div>

                            </div>

                            <div class="form-row">
                                <div class="col-sm-12 col-md-3">
                                    <div class="form-group">
                                        <ng-select [items]="parentescos" formControlName="parentesco_contacto1"
                                            bindLabel="nombre" bindValue="id" placeholder="Seleccione parentesco">
                                        </ng-select>

                                        <div
                                            *ngIf="(submitted && parentesco_contacto1.invalid) || ( parentesco_contacto1.invalid && (parentesco_contacto1.dirty || parentesco_contacto1.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="parentesco_contacto1.errors.required">*El parentesco de la
                                                referencia 1
                                                es
                                                obligatorio</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-6">
                                    <div class="form-group">
                                        <input placeholder="Nombre completo" type="text"
                                            formControlName="nombre_contacto1" class="form-control text-uppercase">

                                        <div
                                            *ngIf="(submitted && nombre_contacto1.invalid) || ( nombre_contacto1.invalid && (nombre_contacto1.dirty || nombre_contacto1.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="nombre_contacto1.errors.required">*El nombre de la referencia 1
                                                es
                                                obligatorio</span>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-12 col-md-3">

                                    <div class="form-group">

                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-phone"></i>
                                                </span>
                                            </div>
                                            <input type="number" formControlName="telefono_contacto1"
                                                class="form-control" placeholder="Teléfono" aria-label="Username"
                                                aria-describedby="basic-addon1">
                                        </div>

                                        <div
                                            *ngIf="(submitted && telefono_contacto1.invalid) || ( telefono_contacto1.invalid && (telefono_contacto1.dirty || telefono_contacto1.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="telefono_contacto1.errors.required">*El teléfono de la
                                                referencia
                                                1 es obligatorio</span>
                                        </div>


                                    </div>

                                </div>
                            </div>

                            <div class="form-row">

                                <div class="col-sm-12 col-md-9">
                                    <div class="form-group">
                                        <textarea placeholder="dirección de la referencia 1" type="text" rows="3"
                                            formControlName="direccion_contacto1" class="form-control text-uppercase">
                                        </textarea>
                                        <div
                                            *ngIf="(submitted && direccion_contacto1.invalid) || ( direccion_contacto1.invalid && (direccion_contacto1.dirty || direccion_contacto1.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="direccion_contacto1.errors.required">*La dirección de la referencia
                                                1 es obligatoria</span>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <hr>

                            <div class="form-group">

                                <div class="col-sm-12 col-md d-flex align-items-center">
                                    <label>Referencia 1 <span class="opcional">(Opcional)</span></label>
                                </div>

                            </div>

                            <div class="form-row">

                                <div class="col-sm-12 col-md-3">
                                    <div class="form-group">
                                        <ng-select [items]="parentescos" formControlName="parentesco_contacto2"
                                            bindLabel="nombre" bindValue="id" placeholder="Seleccione parentesco">
                                        </ng-select>

                                        <div
                                            *ngIf="(submitted && parentesco_contacto2.invalid) || ( parentesco_contacto2.invalid && (parentesco_contacto2.dirty || parentesco_contacto2.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="parentesco_contacto2.errors.required">*El parentesco de la
                                                referencia 2
                                                es
                                                obligatorio</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-6">
                                    <div class="form-group">
                                        <input placeholder="Nombre completo" type="text"
                                            formControlName="nombre_contacto2" class="form-control text-uppercase">

                                        <div
                                            *ngIf="(submitted && nombre_contacto2.invalid) || ( nombre_contacto2.invalid && (nombre_contacto2.dirty || nombre_contacto2.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="nombre_contacto2.errors.required">*El nombre de la referencia 2
                                                es
                                                obligatorio</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12 col-md-3">

                                    <div class="form-group">

                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-phone"></i>
                                                </span>
                                            </div>
                                            <input type="number" formControlName="telefono_contacto2"
                                                class="form-control" placeholder="Teléfono" aria-label="Username"
                                                aria-describedby="basic-addon1">


                                        </div>

                                        <div
                                            *ngIf="(submitted && telefono_contacto2.invalid) || ( telefono_contacto2.invalid && (telefono_contacto2.dirty || telefono_contacto2.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="telefono_contacto2.errors.required">*El teléfono de la
                                                referencia
                                                2 es obligatorio</span>
                                        </div>



                                    </div>



                                </div>
                            </div>

                            <div class="form-row">

                                <div class="col-sm-12 col-md-9">
                                    <div class="form-group">
                                        <textarea placeholder="dirección de la referencia 2" type="text" rows="3"
                                            formControlName="direccion_contacto2" class="form-control text-uppercase">
                                        </textarea>
                                        <div
                                            *ngIf="(submitted && direccion_contacto2.invalid) || ( direccion_contacto2.invalid && (direccion_contacto2.dirty || direccion_contacto2.touched))">
                                            <span class="error invalid-feedback"
                                                *ngIf="direccion_contacto2.errors.required">*La dirección de la referencia
                                                2 es obligatoria</span>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="mt-5 d-flex justify-content-end">
                                <button (click)="previous()" class="btn btn-primary">
                                    <i class="fas fa-arrow-alt-circle-left"></i>
                                    Anterior</button>
                                <button  (click)="changeStatus()" class="btn btn-success ml-3">
                                    <i class="fas fa-paper-plane"></i>
                                    Enviar</button>
                                <!-- <button (click)="saveSolicitud()" class="btn btn-success ml-3">
                                    <i class="fas fa-paper-plane"></i>
                                    Enviar</button> -->
                                <!-- <button *ngIf="editingSolicitud" (click)="changeStatus()" class="btn btn-success ml-3">
                                    <i class="fas fa-paper-plane"></i>
                                    Enviar a aprobación</button> -->
                            </div>

                        </div>

                    </div>

                </div>

            </form>
        </div>
    </div>

</div>